!function(){void 0===window.$ib3&&(window.$ib3={}),$ib3.utils={createScrolling:function(d,a,e){if(!(d.node()instanceof SVGElement))throw"$Ib3Utils createScrolling - parameter 0 must be svg Element";if(!(a.node()instanceof SVGElement))throw"$Ib3Utils createScrolling - parameter 1 must be svg Element";if(!(e.node()instanceof SVGElement))throw"$Ib3Utils createScrolling - parameter 2 must be svg Element";if(d.node().getBBox().height>a.node().getBBox().height){var s=d.node().getBBox().height-a.node().getBBox().height,t=d.attr("transform"),n=h(t),l=(n.x,n.y),i=e.append("g").attr("transform","translate("+($ib3.config.getChartWidth()-10)+", 0)"),r=d3.scaleLinear().domain([0,s]).range([0,a.node().getBBox().height-$ib3.config.getChartHeight()/10]),o=d3.scaleLinear().domain([0,a.node().getBBox().height-$ib3.config.getChartHeight()/10]).range([0,s]),g=i.append("rect").attr("fill","#d1d1d1").attr("width",10).attr("height",$ib3.config.getChartHeight()/10).attr("y",0).call(d3.drag().on("drag",function(){u()}));function c(){var e=d3.event.wheelDeltaY,t=f(e);0<t&&(t=0),i.select("rect").attr("y",r(-t))}function u(e){var t=d3.event.dy*(e?-1:1),n=parseFloat(g.attr("y"))+t,i=!1,r=!1;n<0?(i=!0,t=n=0):n>a.node().getBBox().height-$ib3.config.getChartHeight()/10&&(r=!0,n=a.node().getBBox().height-$ib3.config.getChartHeight()/10,t=0),g.attr("y",n),f(-o(t),i,r)}function f(e,t,n){var i=d.attr("transform"),r=h(i),a=r.y+e,o=s;o<e&&(dy=o),o<-a||n?a=-o:(l<a||t)&&(a=l);var g="translate("+r.x+","+a+")";return d.attr("transform",i.replace(r.original,g)),a}function h(e){var t=e.indexOf("translate"),n=e.indexOf(")",t),i=e.substring(t,n+1),r=i.substring(10,i.length-1),a=r.split(",");return a=$(a).map(function(e,t){return parseFloat(t)}).get(),{original:i,x:a[0],y:a[1]}}a.call(d3.drag().on("drag",function(e){u(!0)})),d.call(d3.drag().on("drag",function(e){u(!0)})),a.on("wheel",c),d.on("wheel",c)}},getVersion:function(){return e},getNumericAbbreviation:o,getShortenNumberByAbbreviation:g,setUpTooltip:function(e,t,n,i){$ib3.config.getCreateTooltipFunction()(e,t,n,i)},showRenderError:function(e){$ib3.config.setErrorMessage(e),$ib3.config.redraw()},setLoadingScreen:function(e,t){$loadingDiv=$(e).find(".loading-screen"),0==$loadingDiv.length&&($loadingDiv=$("<div>").addClass("loading-screen"),$(e).append($loadingDiv),$loadingDiv.append($('<span class="spinner"></span>')),$loadingDiv.append($('<span class="percentage">'+t+"%</span>")));$loadingDiv.find(".percentage").html(t+"%"),100<=t&&$loadingDiv.remove()},setShortenNumber:function(e,t,n,i){if(void 0!==i&&["T","B","M","K"].indexOf(i)<0)throw"$Ib3Utils setShortenNumber - Abbreviation must to be in (T, B, M, K)";if(e=Number(e),!1!==(i=i||!1))return a(e,t,n,i);var r=o(e);return a(e,t,n,r)}};var e="v1.0.2";function a(e,t,n,i){var r=g(e,i);Number.isInteger(t)&&(new RegExp("\\.\\d{"+(t+1)+",}$").test(""+r)&&(r=r.toFixed(t)));return!1!==n&&(r=Number(r).toFixed(n)),r+i}function o(e){if("NaN"==Number(e))throw"Utils getNumericAbbreviation: "+e+" is not a Number";return 1e12<=e?"T":1e9<=e?"B":1e6<=e?"M":1e3<=e?"K":""}function g(e,t){var n;switch(t){case"T":n=e/1e12;break;case"B":n=e/1e9;break;case"M":n=e/1e6;break;case"K":n=e/1e3;break;case"":n=e;break;default:n=e}return n}Number.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},"undefined"!=typeof module&&(module.exports=$ib3.utils)}();